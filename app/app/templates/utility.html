{% extends "appbuilder/base.html" %}

{% block content %}	
	{% include "confirm_msg.html" %}

	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.12.2/css/bootstrap-select.min.css">
	<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.12.2/js/bootstrap-select.min.js"></script>

    <div class="container">
	  <h2>Funzioni di utilit√†</h2>
		<form method="post">
			<div>
				<p>Svuota il database</p>	
	      		<button type="button" class="btn btn-primary" onclick="empty_db()">
	      			Svuota DB
	      		</button>  	  	  	  		  
			</div>
			<br>
			<div>
				<p>Svuota il database e carica i dati di test</p>	
	      		<button type="button" class="btn btn-primary" onclick="init_db()">
	      			Inizializza il database con dati di test
	      		</button>  	  	  	  		  
			</div>
			<br>
			<div>
				<p>Upload data from the student career management procedure (Esse3)</p>
	      		<button type="button" class="btn btn-primary" onclick="login_esse3()">
	      			Load the academic years for which there is a training offer in the database
	      		</button>
			</div>
			<br>
			<div>
				<select name="academicYears" id="academicYears">
					{% for a in academicYears %}
						<option value={{a}}>{{a}}/{{a+1}}</option>
					{% endfor %}
				</select>
			   	<select class="selectpicker" multiple>
					<optgroup label="Color">
						<option value="red">Red</option>
						<option value="green">Green</option>
						<option value="blue">Blue</option>
					</optgroup>
					<optgroup label="Style">
						<option value="square" >Square</option>
						<option value="sphere">Sphere</option>
					</optgroup>
					<optgroup label="Size">
						<option value="tiny">Tiny</option>
						<option value="smallest">Smallest</option>
						<option value="small">Small</option>
						<option value="medium">Medium</option>
						<option value="big">Big</option>
						<option value="biggest">Biggest</option>
						<option value="huge">Huge</option>
					</optgroup>
				</select>
			</div>
		</form>
	</div>
	
	<script>	
	function init_db() {
		$('#title').html('Richiesta di conferma');
		$('#msg').html('Si intende realmente inizializzare il database con i dati di test?');
		$(document).on("click", "#modal-confirm-ok", function () {
			window.location.href="{{ url_for('UtilitaView.srv_util', target='initdb')}}";
        });
		$('#modal-confirm-w').modal('show');
	}	
	
	function empty_db() {
		$('#title').html('Richiesta di conferma');
		$('#msg').html('Si intende realmente svuotare il database?');
		$(document).on("click", "#modal-confirm-ok", function () {
			window.location.href="{{ url_for('UtilitaView.srv_util', target='emptydb')}}";
        });
		$('#modal-confirm-w').modal('show');
	}

	function login_esse3() {
		window.location.href="{{ url_for('UtilitaView.srv_util', target='login_esse3')}}";
	}
	</script>
	
{% endblock %}

